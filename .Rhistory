filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 480 ,
width = 480 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 'blank',
fill = viridis_pal()(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
rotation = 1
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 480 ,
width = 480 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 'blank',
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 'blank',
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples (n=8)" , "Published datasets (n=2)"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 'blank',
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples (n=8)" , "Published datasets (n=2)"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 1,
lty = 'blank',
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples (n=8)" , "Published datasets (n=2)"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 0.3,
lty = 'blank',
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples (n=8)" , "Published datasets (n=2)"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 1,
lty = 1,
fill = viridis_pal(alpha = 0.6)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples (n=8)" , "Published datasets (n=2)"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 1,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans"
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 1,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = 20,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = 1,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 500,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = '#14_venn_diagramm.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = './Figures/Figure_7/venndiagram_gos_smdsm_and_previousdatasets.pdf',
output=T,
imagetype="pdf" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
venn.diagram(
x = list(top_20_gos, top_30_previous),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = './Figures/Figure_7/venndiagram_gos_smdsm_and_previousdatasets.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
ggsave(plot = functional_diversity_per_species_previous, filename = "./Figures/Figure_7/functional_diversity_per_species_previous.pdf", height = 4)
venn.diagram(
x = list(get_most_abundant_go(Hives_normalised_counts_go, top_x_gos = c(1:1000)), get_most_abundant_go(Hives_normalised_counts_go_previous, top_x_gos = c(1:1000))),
category.names = c("DSM+SM samples" , "Published datasets"),
filename = './Figures/Figure_7/venndiagram_gos_smdsm_and_previousdatasets.png',
output=T,
imagetype="png" ,
height = 800 ,
width = 800 ,
resolution = 300,
compression = "lzw",
# Circles
lwd = 2,
lty = 1,
fill = viridis_pal(alpha = 0.3)(2),
col = viridis_pal(alpha = 0.5)(2),
# Numbers
cex = .6,
fontface = "bold",
fontfamily = "sans",
# Set names
cat.cex = 0.6,
cat.fontface = "bold",
cat.default.pos = "outer",
cat.pos = c(-27, 27),
cat.dist = c(0.055, 0.055),
cat.fontfamily = "sans",
cat.col = viridis_pal()(2)
)
top_20_gos <- get_most_abundant_go(Hives_normalised_counts_go, top_x_gos = c(1:20))
top_30_previous <- get_most_abundant_go(Hives_normalised_counts_go_previous, top_x_gos = c(1:20))
functional_diversity_per_species_previous <- ggplot(go_for_plot_previous2, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="none", axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species_previous, filename = "./Figures/Figure_7/functional_diversity_per_species_previous.pdf", height = 4)
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
functional_diversity_per_species
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf", height = 4)
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
functional_diversity_per_species
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
functional_diversity_per_species
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf", height = 4)
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="bottom", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf", height = 4)
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf")
vector1 <-  gsub(".*[GO]([^:]+)[.].*", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub("[GO]([^:]+)[\\[]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub("[GO]([^:]+)[\[]", "\\1", go_for_plot3$go_function)
vector1 <-  gsub("[GO]([^:]+)[ ]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub("[G]([^:]+)[ ]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub(".*[G]([^\\[]+)[ ]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub(".*[G]([^\\:[]+)[ ]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  gsub(".*[G]([^\\:]+)[ ]", "\\1", go_for_plot3$go_function)
vector1
vector1 <-  go_for_plot3$go_function %>% str_replace(".* [","")
vector1 <-  go_for_plot3$go_function %>% str_replace(".* \[","")
vector1 <-  go_for_plot3$go_function %>% str_replace(".* \\[","")
vector1
vector1 <-  go_for_plot3$go_function %>% str_replace(".* \\]","")
vector1
vector1 <-  go_for_plot3$go_function %>% str_replace(".*\\]","")
vector1
vector1 <-  go_for_plot3$go_function %>% str_replace(".*\\] ","")
vector1
go_for_plot3$go_function <-  go_for_plot3$go_function %>% str_replace(".*\\] ","")
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="bottom", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf")
functional_diversity_per_species <- ggplot(go_for_plot3, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf")
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf", width = 5)
ggsave(plot = functional_diversity_per_species, filename = "./Figures/Figure_7/functional_diversity_per_species.pdf", width = 7.5)
functional_diversity_per_species_previous <- ggplot(go_for_plot_previous2, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species_previous, filename = "./Figures/Figure_7/functional_diversity_per_species_previous.pdf", height = 4)
go_for_plot_previous2$go_function <-  go_for_plot_previous2$go_function %>% str_replace(".*\\] ","")
functional_diversity_per_species_previous <- ggplot(go_for_plot_previous2, aes(x=species, y=value, fill = go_function)) + geom_bar(stat = "identity", position = "fill") + theme_minimal() + theme(legend.position="right", legend.text = element_text(size=8), axis.text.x = element_text(face = "italic", angle = 45, hjust = 1, size = 10), axis.title.x = element_blank()) + guides(fill=guide_legend(ncol=2)) + scale_fill_viridis_d(option = "magma") + ylab("GO function (%)") + labs(fill = "GO function") + scale_y_continuous(labels = c(0,25,50,75,100))
ggsave(plot = functional_diversity_per_species_previous, filename = "./Figures/Figure_7/functional_diversity_per_species_previous.pdf", width = 7.5)
